
<!DOCTYPE html>
<html lang="en">
	<head>
  		<meta charset="UTF-8">
  		<script type="text/javascript" src="../d3.js"></script>

  		<title>D3.js Intro</title>

  		<style>

  		 /* CSS */

  	 
  		div.bar {
  			display: inline-block;
  			width: 20px;
  			height: 75px;
  			background-color: teal;
  			margin-right: 2px;

  		}

  		</style>

	</head>

	<body>


		<script type="text/javascript">

			//Variables
			var w = 500;
			var h = 100;
			var bar_padding = 1;


			
			//Import data CSV

			var rowConvert = function(d) {

				return {

					Type: d.Type,
					Total: parseFloat(d.Total)
				};

			}


			var dataset =d3.csv("atf.csv", rowConvert, function(error, data) {

				if (error) {

					console.log(error);

				} else {

					console.log(data);

				dataset = data; //What is this??

			}

			}); 

			/*

			var total = [];
			for(var i = 0; i<7; i++) {

				//console.log(i);
				total.push(dataset[i].Total);

			};

			*/

			//First Bar chart (With Divs)

			var dataset1 = [5,10,15,20,25,30];

			/*
			d3.select("body").selectAll("div")
			.data(dataset1) // this function loop over every data element and embedded every data point to the estructure created adove ("div")
			.enter() // for what?
			.append("div")
			.attr("class","bar")
			.style("height", function(d) {
				var barHeight = d*5;
				return barHeight + "px";

			});
			*/

			// SVG

			var svg = d3.select("body").append("svg")

			svg.attr("height",h)
			   .attr("width",w);

			//Second Bar chart (with Rect)
			svg.selectAll("rect")
				.data(dataset1)
				.enter()
				.append("rect")
				.attr("x", function(d,i) {

					return i*(w/dataset1.length); // 

				})
				.attr("y",0)
				.attr("width", w/dataset1.length - bar_padding)
				.attr("height", function(d) {

					return d;
				});





		</script>

		</body>

</html>
